{
  "type": "file",
  "name": "route.tsx",
  "path": "src/app/api/og/route.tsx",
  "size": 5178,
  "sha": "68d36c1e64f5c74118a0d5e771eaf34c293e7d31",
  "content": "import { ImageResponse } from \"next/og\";\nimport { NextRequest } from \"next/server\";\n\nexport const runtime = \"edge\";\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = request.nextUrl;\n  const title = searchParams.get(\"title\") || \"Untitled Story\";\n  const author = searchParams.get(\"author\") || \"Unknown Author\";\n  const cover = searchParams.get(\"cover\") || \"\";\n  const description = searchParams.get(\"description\") || \"\";\n  const genre = searchParams.get(\"genre\") || \"\";\n\n  const truncatedDescription =\n    description.length > 120\n      ? description.substring(0, 120) + \"...\"\n      : description;\n\n  return new ImageResponse(\n    (\n      <div\n        style={{\n          width: \"1200\",\n          height: \"630\",\n          display: \"flex\",\n          background: \"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)\",\n          fontFamily: \"system-ui, sans-serif\",\n        }}\n      >\n        {/* Left side: Cover */}\n        <div\n          style={{\n            width: \"340\",\n            height: \"630\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            padding: \"40px 20px 40px 40px\",\n          }}\n        >\n          {cover ? (\n            <img\n              src={cover}\n              alt=\"\"\n              width={280}\n              height={420}\n              style={{\n                borderRadius: \"12px\",\n                objectFit: \"cover\",\n                boxShadow: \"0 20px 60px rgba(0,0,0,0.5)\",\n              }}\n            />\n          ) : (\n            <div\n              style={{\n                width: \"280\",\n                height: \"420\",\n                borderRadius: \"12px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                background: \"linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)\",\n                boxShadow: \"0 20px 60px rgba(0,0,0,0.5)\",\n              }}\n            >\n              <svg\n                width=\"80\"\n                height=\"80\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"rgba(255,255,255,0.8)\"\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M4 19.5A2.5 2.5 0 0 1 6.5 17H20\" />\n                <path d=\"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z\" />\n              </svg>\n            </div>\n          )}\n        </div>\n\n        {/* Right side: Info */}\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            padding: \"40px 40px 40px 20px\",\n          }}\n        >\n          {/* Title */}\n          <div\n            style={{\n              fontSize: \"42\",\n              fontWeight: \"bold\",\n              color: \"#ffffff\",\n              lineHeight: 1.2,\n              marginBottom: \"16\",\n              display: \"-webkit-box\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n            }}\n          >\n            {title.length > 60 ? title.substring(0, 60) + \"...\" : title}\n          </div>\n\n          {/* Author */}\n          <div\n            style={{\n              fontSize: \"22\",\n              color: \"#c4b5fd\",\n              marginBottom: \"20\",\n              display: \"flex\",\n              alignItems: \"center\",\n            }}\n          >\n            by {author}\n          </div>\n\n          {/* Description */}\n          {truncatedDescription && (\n            <div\n              style={{\n                fontSize: \"18\",\n                color: \"rgba(255,255,255,0.7)\",\n                lineHeight: 1.5,\n                marginBottom: \"24\",\n              }}\n            >\n              {truncatedDescription}\n            </div>\n          )}\n\n          {/* Genre badge */}\n          {genre && (\n            <div style={{ display: \"flex\", marginBottom: \"24\" }}>\n              <div\n                style={{\n                  background: \"rgba(124, 58, 237, 0.3)\",\n                  border: \"1px solid rgba(124, 58, 237, 0.6)\",\n                  borderRadius: \"20px\",\n                  padding: \"6px 16px\",\n                  fontSize: \"16\",\n                  color: \"#c4b5fd\",\n                }}\n              >\n                {genre}\n              </div>\n            </div>\n          )}\n\n          {/* Branding */}\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              marginTop: \"auto\",\n            }}\n          >\n            <div\n              style={{\n                width: \"8\",\n                height: \"28\",\n                background: \"#7c3aed\",\n                borderRadius: \"4px\",\n                marginRight: \"12\",\n              }}\n            />\n            <div\n              style={{\n                fontSize: \"20\",\n                color: \"rgba(255,255,255,0.6)\",\n                fontWeight: \"600\",\n              }}\n            >\n              fictionry.com\n            </div>\n          </div>\n        </div>\n      </div>\n    ),\n    {\n      width: 1200,\n      height: 630,\n    }\n  );\n}\n",
  "encoding": "base64",
  "downloadUrl": "https://raw.githubusercontent.com/onedollarbanana/FictionForge/feat/social-sharing/src/app/api/og/route.tsx"
}
